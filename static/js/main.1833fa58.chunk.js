(this["webpackJsonpfunction-visualyzer"]=this["webpackJsonpfunction-visualyzer"]||[]).push([[0],{318:function(e,t,n){},319:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),c=n(13),a=n.n(c),i=n(18),s=n(19),u=n(67),l=n(5),f=n(129),d=n(52),h=n(4),b=n(9),m=d.a.getDictionary(),g=d.a.getDictionary().find((function(e){return"Sin"==e.name}));function p(e){return Object(b.a)(Object(b.a)({},g),{},{name:e,serialize:e,trigger:Object(b.a)(Object(b.a)({},g.trigger),{},{symbol:e})})}var x=[].concat(Object(h.a)(m),[p("\\ln"),p("\\exp"),p("\\abs"),p("\\sign"),p("\\fract")]),j={x:"x",y:"y",t:"t",Pi:"PI",ExponentialE:"E"},v=function(e){try{var t=Object(d.b)(function(e){return e.replace(/\\operatorname{abs}/g,"\\abs ").replace(/\\operatorname{fract}/g,"\\fract ").replace(/\\operatorname{sign}/g,"\\sign ")}(e),{dictionary:x});console.log(t);var n=y(t);return console.log(n),n}catch(r){console.log(r)}},y=function e(t){if(""===t||null===t||void 0===t)throw new Error("Invalid empty token");if(Array.isArray(t)){var n=t[0];switch(n){case"Parentheses":return"(".concat(e(t[1]),")");case"Add":return"(".concat(t.slice(1).map((function(t){return e(t)})).join(" + "),")");case"Subtract":return"(".concat(e(t[1])," - ").concat(e(t[2]),")");case"Multiply":return"(".concat(t.slice(1).map((function(t){return e(t)})).join(" * "),")");case"Divide":return"(".concat(e(t[1])," / ").concat(e(t[2]),")");case"Sqrt":return"sqrt(".concat(e(t[1]),")");case"Power":return"pow(".concat(e(t[1]),", ").concat(e(t[2]),")");case"Sin":return"sin(".concat(e(t[1]),")");case"Cos":return"cos(".concat(e(t[1]),")");case"Tan":return"tan(".concat(e(t[1]),")");case"Arcsin":return"asin(".concat(e(t[1]),")");case"Arccos":return"acos(".concat(e(t[1]),")");case"Arctan":return"atan(".concat(e(t[1]),")");case"Abs":return"abs(".concat(e(t[1]),")");case"Negate":return"-(".concat(e(t[1]),")");case"\\ln":return"log(".concat(e(t[1]),")");case"\\exp":return"exp(".concat(e(t[1]),")");case"\\abs":return"abs(".concat(e(t[1]),")");case"\\sign":return"sign(".concat(e(t[1]),")");case"\\fract":return"fract(".concat(e(t[1]),")");default:throw new Error("Invalid operation token '".concat(n,"'"))}}if("number"==typeof t)return O(t);if("object"==typeof t)return O(t.num);if(t in j)return j[t];throw new Error("Invalid token '".concat(t,"'"))};function O(e){switch((e=e.toString()).indexOf(".")){case-1:return"".concat(e,".0");case e.length-1:return"".concat(e,"0");default:return e}}var w,S=0,C=1,_="\\frac{\\left(x^2+y^2\\right)}{x}-0.7t",E=Object(f.a)({latex:_,expression:v(_),colorMode:S,primaryColor:{r:255,g:0,b:0,a:1},secondaryColor:{r:0,g:0,b:0,a:1}}).useGlobalState,I=function(){return"#version 300 es\n\nprecision highp float;\n\nout vec2 texCoord;\n\nvoid main(void) {\n    vec2 u = vec2(float((gl_VertexID & 1) << 2), float((gl_VertexID & 2) << 1));\n    texCoord = u * .5;\n    gl_Position = vec4(u - 1.0, 0, 1);\n}\n"},A=function(e){return"#version 300 es\n\n#define PI 3.1415926535897932384626433832795\n#define E 2.718281828459045235360287471352662\n\nprecision highp float;\n\nuniform float u_time;\nuniform vec2 u_resolution;\nuniform vec2 u_mouse;\nuniform vec4 primaryColor;\nuniform vec4 secondaryColor;\nuniform int u_colorMode;\n\nin vec2 texCoord;\n\nout vec4 fragmentColor;\n\n#define zoom 10.0\n#define isMouseEnabled false\n\nvec3 hsv2rgb(vec3 c)\n{\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nfloat f(vec2 p, float t) {\n    float x = p.x;\n    float y = p.y;\n    return ".concat(e,";\n}\n\nfloat triangleWave(float x) {\n    return 2.0*abs(x-floor(x+0.5));\n}\n\nvoid main(void) {\n    vec2 p = (gl_FragCoord.xy / u_resolution.xy - .5) * zoom;\n    vec2 mouse = (u_mouse.xy / u_resolution.xy - .5) * zoom;\n    if(!isMouseEnabled)\n        mouse = vec2(0.0, 0.0);\n    p.x *= 1.0 * u_resolution.x / u_resolution.y;\n    mouse.x *= 1.0 * u_resolution.x / u_resolution.y;\n    \n    vec3 color = vec3(f(p - mouse, u_time), 1.0, 1.0);\n    if(u_colorMode == 1)\n        fragmentColor = fragmentColor = vec4(hsv2rgb(color), 1.0);\n    else \n        fragmentColor = mix(primaryColor, secondaryColor, triangleWave(f(p - mouse, u_time)));\n}\n")},k=n(6);function D(){var e=E("primaryColor"),t=Object(l.a)(e,1)[0],n=E("secondaryColor"),o=Object(l.a)(n,1)[0],c=E("colorMode"),a=Object(l.a)(c,1)[0],i=E("expression"),s=Object(l.a)(i,1)[0],u=Object(r.useRef)(),f=Object(r.useRef)(),d=Object(r.useRef)(),h=Object(r.useRef)();return Object(r.useEffect)((function(){var e=u.current,n=e.getContext("webgl2");n||alert("No WebGL :("),e.width=e.clientWidth,e.height=e.clientHeight,n.viewport(0,0,n.canvas.width,n.canvas.height),d.current=P(n,n.VERTEX_SHADER,I()),h.current=P(n,n.FRAGMENT_SHADER,A(s)),f.current=function(e,t,n){var r=e.createProgram();if(e.attachShader(r,t),e.attachShader(r,n),e.linkProgram(r),e.getProgramParameter(r,e.LINK_STATUS))return r;console.error(e.getProgramInfoLog(r)),e.deleteProgram(r)}(n,d.current,h.current),n.useProgram(f.current),F(n,"uniform1f","u_time",0),F(n,"uniform2f","u_resolution",n.canvas.width,n.canvas.height),F(n,"uniform2f","u_mouse",0,0),F(n,"uniform4f","primaryColor",t.r/255,t.g/255,t.b/255,o.a),F(n,"uniform4f","secondaryColor",o.r/255,o.g/255,o.b/255,o.a),F(n,"uniform1i","u_colorMode",a);var r=Date.now();!function e(){F(n,"uniform1f","u_time",(Date.now()-r)/1e3),n.drawArrays(n.TRIANGLE_FAN,0,3),requestAnimationFrame(e)}(),window.addEventListener("resize",(function(){e.width=e.clientWidth,e.height=e.clientHeight,F(n,"uniform2f","u_resolution",n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height)})),window.addEventListener("mousemove",(function(e){F(n,"uniform2f","u_mouse",e.x,u.current.height-e.y)}))}),[]),Object(r.useEffect)((function(){var e=u.current.getContext("webgl2");e.detachShader(f.current,h.current),e.deleteShader(h.current),h.current=P(e,e.FRAGMENT_SHADER,A(s)),e.attachShader(f.current,h.current),e.linkProgram(f.current),F(e,"uniform1f","u_time",0),F(e,"uniform2f","u_resolution",e.canvas.width,e.canvas.height),F(e,"uniform2f","u_mouse",0,0),F(e,"uniform4f","primaryColor",t.r/255,t.g/255,t.b/255,o.a),F(e,"uniform4f","secondaryColor",o.r/255,o.g/255,o.b/255,o.a),F(e,"uniform1i","u_colorMode",a)}),[s]),Object(r.useEffect)((function(){var e=u.current.getContext("webgl2");F(e,"uniform4f","primaryColor",t.r/255,t.g/255,t.b/255,o.a),F(e,"uniform4f","secondaryColor",o.r/255,o.g/255,o.b/255,o.a),F(e,"uniform1i","u_colorMode",a)}),[t,o,a]),Object(k.jsx)(z,{ref:u})}function F(e,t,n){for(var r=e.getParameter(e.CURRENT_PROGRAM),o=e.getUniformLocation(r,n),c=arguments.length,a=new Array(c>3?c-3:0),i=3;i<c;i++)a[i-3]=arguments[i];e[t].apply(e,[o].concat(a))}var z=s.a.canvas(w||(w=Object(i.a)(["\n    width: 100%;\n    height: 100%;\n    background-color: aqua;\n"])));function P(e,t,n){var r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))return r;console.error(e.getShaderInfoLog(r)),e.deleteShader(r)}var M,R=n(138),H=n(25),T=n.n(H),K=n(53),L={autoCommands:"pi sqrt",autoOperatorNames:"sin cos tan arcsin arccos arctan ln exp abs sign fract"},N=[9,13,16,17,18,20,27,37,33,34,35,36,37,38,39,40,225];function U(e,t){var n=this;this.mathField=e,this.contentEl=t,this.typedHistory=[this.mathField.latex()],this.ctrlIsDown=!1,this.YIsDown=!1,this.ZIsDown=!1,this.currentState=0,this.buffSize=50,this.isFieldEmpty=""==this.mathField.latex(),this.rearrangeTypedArray=function(){if(n.typedHistory.length>n.buffSize){var e=n.typedHistory.length-n.buffSize;n.currentState=n.currentState-e,n.typedHistory=n.typedHistory.slice(-1*n.buffSize)}},this.isKeyIsUnaffecting=function(e){return N.includes(e)},this.checkIfSpecialKeysAreUpAndSetStates=function(e){switch(e){case 17:n.ctrlIsDown=!1;break;case 89:n.YIsDown=!1;break;case 90:n.ZIsDown=!1}},this.checkIfSpecialKeysAreDownAndSetStates=function(e){switch(e){case 17:n.ctrlIsDown=!0;break;case 89:n.YIsDown=!0;break;case 90:n.ZIsDown=!0}},this.saveState=function(){n.currentState!==n.typedHistory.length-1&&(n.typedHistory=n.typedHistory.slice(0,n.currentState+1)),n.typedHistory.push(n.mathField.latex()),n.rearrangeTypedArray(),n.currentState++},this.undo=function(){0!==n.currentState&&(n.currentState--,n.mathField.latex(n.typedHistory[n.currentState]))},this.redo=function(){n.currentState<n.typedHistory.length-1&&(n.currentState++,n.mathField.latex(n.typedHistory[n.currentState]))},this.contentEl.addEventListener("keyup",(function(e){""==n.mathField.latex()&&n.isFieldEmpty||(n.isFieldEmpty=""==n.mathField.latex(),n.checkIfSpecialKeysAreUpAndSetStates(e.which),!1===n.isKeyIsUnaffecting(e.which)&&(!1===n.ctrlIsDown||n.ctrlIsDown&&86===e.which)&&n.saveState())})),this.contentEl.addEventListener("keydown",(function(e){n.checkIfSpecialKeysAreDownAndSetStates(e.which),n.ctrlIsDown&&n.ZIsDown&&n.undo(),n.ctrlIsDown&&n.YIsDown&&n.redo()}))}function W(){var e=E("latex"),t=Object(l.a)(e,2),n=t[0],o=t[1],c=E("expression"),a=Object(l.a)(c,2),i=(a[0],a[1]),s=Object(r.useState)(!1),f=Object(l.a)(s,2),d=f[0],h=f[1],b=function(){var e=Object(K.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(t.latex()),(n=v(t.latex()))&&i(n),h(!n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(J,{children:Object(k.jsx)(u.EditableMathField,{latex:n,config:L,onChange:b,style:{fontSize:"20px",minWidth:"200px",maxWidth:"85%",margin:"30px 6px 6px 6px",textAlign:"center",backgroundColor:d?"rgba(255, 204, 204, 1)":"rgba(255, 255, 255, 0.9)"},mathquillDidMount:function(e){return new U(e,e.el())}})})})}var q,G,V,Y,Z,B,J=s.a.div(M||(M=Object(i.a)(["\n    position: absolute;\n    overflow: auto;\n    width: 100%;\n    /* background-color: red; */\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"]))),X=n(349),Q=n(350),$=n(133);function ee(e){var t=e.color,n=e.setColor,o=Object(r.useState)(!1),c=Object(l.a)(o,2),a=c[0],i=c[1],s={swatch:{margin:"0 8px",padding:"4px",background:"#fff",borderRadius:"5px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},color:{width:"20px",height:"20px",borderRadius:"5px",background:"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(t.a,")")},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}};return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{style:s.swatch,onClick:function(){return i(!a)},children:Object(k.jsx)("div",{style:s.color})}),a?Object(k.jsxs)("div",{style:s.popover,children:[Object(k.jsx)("div",{style:s.cover,onClick:function(){return i(!1)}}),Object(k.jsx)($.ChromePicker,{color:t,onChange:function(e){return n(e)}})]}):null]})})}function te(){var e=E("primaryColor"),t=Object(l.a)(e,2),n=t[0],r=t[1],o=E("secondaryColor"),c=Object(l.a)(o,2),a=c[0],i=c[1],s=E("colorMode"),u=Object(l.a)(s,2),f=u[0],d=u[1];return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(re,{children:[Object(k.jsx)("div",{style:{marginTop:"auto"}}),Object(k.jsx)(ce,{style:{marginTop:"10px"},children:"Function Visualyzer"}),Object(k.jsxs)(ae,{style:{marginTop:"12px"},children:["Color Mode:",Object(k.jsxs)(X.a,{value:f,style:{marginLeft:"8px"},onChange:function(e){return d(e.target.value)},children:[Object(k.jsx)(Q.a,{value:S,children:" Custom "}),Object(k.jsx)(Q.a,{value:C,children:" Rainbow "})]})]}),f==S&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(ie,{style:{marginTop:"14px"},children:["Primary Color:",Object(k.jsx)(ee,{color:n,setColor:function(e){return r(e.rgb)}})]}),Object(k.jsxs)(ie,{style:{marginTop:"8px"},children:["Secondary Color:",Object(k.jsx)(ee,{color:a,setColor:function(e){return i(e.rgb)}})]})]}),Object(k.jsx)("div",{style:{height:"25%",marginBottom:"auto"}})]})})}var ne,re=s.a.div(q||(q=Object(i.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    overflow: auto;\n    height: 100%;\n    font-family: Roboto;\n    background-color: #e3f9ff;\n"]))),oe=s.a.div(G||(G=Object(i.a)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n"]))),ce=Object(s.a)(oe)(V||(V=Object(i.a)(["\n    font-size: 20px;\n    font-weight: bold;\n    color: #0c2187;\n    text-transform: uppercase;\n    text-align: center;\n"]))),ae=Object(s.a)(oe)(Y||(Y=Object(i.a)(["\n    \n"]))),ie=Object(s.a)(oe)(Z||(Z=Object(i.a)(["\n    \n"])));Object(s.a)(oe)(B||(B=Object(i.a)(["\n    \n"])));function se(){return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(R.a,{split:"vertical",defaultSize:300,minSize:200,maxSize:800,onChange:function(){return dispatchEvent(new Event("resize"))},children:[Object(k.jsx)(te,{}),Object(k.jsxs)(ue,{children:[Object(k.jsx)(W,{}),Object(k.jsx)(D,{})]})]})})}Object(u.addStyles)();var ue=s.a.div(ne||(ne=Object(i.a)(["\n    position: relative;\n    width: 100%;\n    height: 100%;\n"])));n(318);a.a.render(Object(k.jsx)(o.a.StrictMode,{children:Object(k.jsx)(se,{})}),document.getElementById("root"))}},[[319,1,2]]]);
//# sourceMappingURL=main.1833fa58.chunk.js.map