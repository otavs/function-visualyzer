(this["webpackJsonpfunction-visualyzer"]=this["webpackJsonpfunction-visualyzer"]||[]).push([[0],{34:function(n,e,t){},35:function(n,e,t){"use strict";t.r(e);var o=t(1),r=t.n(o),a=t(21),i=t.n(a),c=t(13),s=t(6),u=t.n(s),f=t(10),d=t(2),m=t(14),l=t(17),w=t(12),g=t(0),h=t(4),x=w.a.getDictionary(),v=w.a.getDictionary().find((function(n){return"Sin"==n.name}));function p(n){return Object(h.a)(Object(h.a)({},v),{},{name:n,serialize:n,trigger:Object(h.a)(Object(h.a)({},v.trigger),{},{symbol:n})})}var b=[].concat(Object(g.a)(x),[p("\\ln"),p("\\exp"),p("\\abs"),p("\\sign"),p("\\fract")]),j={x:"x",y:"y",t:"t",Pi:"PI",ExponentialE:"E"},S=function(n){try{var e=Object(w.b)(function(n){return n.replace(/\\operatorname{abs}/g,"\\abs ").replace(/\\operatorname{fract}/g,"\\fract ").replace(/\\operatorname{sign}/g,"\\sign ")}(n),{dictionary:b});console.log(e);var t=y(e);return console.log(t),t}catch(o){console.log(o)}},y=function n(e){if(""===e||null===e||void 0===e)throw new Error("Invalid empty token");if(Array.isArray(e)){var t=e[0];switch(t){case"Parentheses":return"(".concat(n(e[1]),")");case"Add":return"(".concat(e.slice(1).map((function(e){return n(e)})).join(" + "),")");case"Subtract":return"(".concat(n(e[1])," - ").concat(n(e[2]),")");case"Multiply":return"(".concat(e.slice(1).map((function(e){return n(e)})).join(" * "),")");case"Divide":return"(".concat(n(e[1])," / ").concat(n(e[2]),")");case"Sqrt":return"sqrt(".concat(n(e[1]),")");case"Power":return"pow(".concat(n(e[1]),", ").concat(n(e[2]),")");case"Sin":return"sin(".concat(n(e[1]),")");case"Cos":return"cos(".concat(n(e[1]),")");case"Tan":return"tan(".concat(n(e[1]),")");case"Arcsin":return"asin(".concat(n(e[1]),")");case"Arccos":return"acos(".concat(n(e[1]),")");case"Arctan":return"atan(".concat(n(e[1]),")");case"Abs":return"abs(".concat(n(e[1]),")");case"Negate":return"-(".concat(n(e[1]),")");case"\\ln":return"log(".concat(n(e[1]),")");case"\\exp":return"exp(".concat(n(e[1]),")");case"\\abs":return"abs(".concat(n(e[1]),")");case"\\sign":return"sign(".concat(n(e[1]),")");case"\\fract":return"fract(".concat(n(e[1]),")");default:throw new Error("Invalid operation token '".concat(t,"'"))}}if("number"==typeof e)return L(e);if("object"==typeof e)return L(e.num);if(e in j)return j[e];throw new Error("Invalid token '".concat(e,"'"))};function L(n){switch((n=n.toString()).indexOf(".")){case-1:return"".concat(n,".0");case n.length-1:return"".concat(n,"0");default:return n}}var O,_={autoCommands:"pi sqrt",autoOperatorNames:"sin cos tan arcsin arccos arctan ln exp abs sign fract"},E=function(){return"#version 300 es\n\nprecision highp float;\n\nout vec2 texCoord;\n\nvoid main(void) {\n    vec2 u = vec2(float((gl_VertexID & 1) << 2), float((gl_VertexID & 2) << 1));\n    texCoord = u * .5;\n    gl_Position = vec4(u - 1.0, 0, 1);\n}\n"},U=function(n){return"#version 300 es\n\n#define PI 3.1415926535897932384626433832795\n#define E 2.718281828459045235360287471352662\n\nprecision highp float;\n\nuniform vec2 u_mouse;\nuniform vec2 u_resolution;\nuniform float u_time;\n\nin vec2 texCoord;\n\nout vec4 fragmentColor;\n\n#define zoom 10.0\n#define isMouseEnabled false\n\nvec3 hsv2rgb(vec3 c)\n{\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nfloat f(vec2 p, float t) {\n    float x = p.x;\n    float y = p.y;\n    return ".concat(n,";\n}\n\nvoid main(void) {\n    vec2 p = (gl_FragCoord.xy / u_resolution.xy - .5) * zoom;\n    vec2 mouse = (u_mouse.xy / u_resolution.xy - .5) * zoom;\n    if(!isMouseEnabled)\n        mouse = vec2(0.0, 0.0);\n    p.x *= 1.0 * u_resolution.x / u_resolution.y;\n    mouse.x *= 1.0 * u_resolution.x / u_resolution.y;\n    \n    vec3 color = vec3(f(p - mouse, u_time), 1.0, 1.0);\n    fragmentColor = vec4(hsv2rgb(color), 1.0);\n}\n")},A=t(5);function P(n){var e=n.expression,t=Object(o.useRef)(null);return Object(o.useEffect)((function(){var n=t.current,o=n.getContext("webgl2");o||alert("No WebGL :("),n.width=n.clientWidth,n.height=n.clientHeight,o.viewport(0,0,o.canvas.width,o.canvas.height),window.vertexShader=z(o,o.VERTEX_SHADER,E()),window.fragmentShader=z(o,o.FRAGMENT_SHADER,U(e)),window.program=function(n,e,t){var o=n.createProgram();if(n.attachShader(o,e),n.attachShader(o,t),n.linkProgram(o),n.getProgramParameter(o,n.LINK_STATUS))return o;console.error(n.getProgramInfoLog(o)),n.deleteProgram(o)}(o,window.vertexShader,window.fragmentShader),o.useProgram(window.program),window.resolutionUniformLocation=o.getUniformLocation(window.program,"u_resolution"),o.uniform2f(window.resolutionUniformLocation,o.canvas.width,o.canvas.height),window.mouseUniformLocation=o.getUniformLocation(window.program,"u_mouse"),o.uniform2f(window.mouseUniformLocation,0,0),window.timeUniformLocation=o.getUniformLocation(window.program,"u_time"),o.uniform1f(window.timeUniformLocation,0);var r=Date.now();!function n(){o.uniform1f(window.timeUniformLocation,(Date.now()-r)/1e3),o.drawArrays(o.TRIANGLE_FAN,0,3),requestAnimationFrame(n)}(),window.addEventListener("resize",(function(){n.width=n.clientWidth,n.height=n.clientHeight,o.viewport(0,0,o.canvas.width,o.canvas.height),o.uniform2f(window.resolutionUniformLocation,o.canvas.width,o.canvas.height)})),window.addEventListener("mousemove",(function(e){o.uniform2f(window.mouseUniformLocation,e.x,n.height-e.y,1)}))}),[]),Object(o.useEffect)((function(){var n=t.current.getContext("webgl2");n.detachShader(window.program,window.fragmentShader),n.deleteShader(window.fragmentShader),window.fragmentShader=z(n,n.FRAGMENT_SHADER,U(e)),n.attachShader(window.program,window.fragmentShader),n.linkProgram(window.program),window.resolutionUniformLocation=n.getUniformLocation(window.program,"u_resolution"),n.uniform2f(window.resolutionUniformLocation,n.canvas.width,n.canvas.height),window.mouseUniformLocation=n.getUniformLocation(window.program,"u_mouse"),n.uniform2f(window.mouseUniformLocation,0,0),window.timeUniformLocation=n.getUniformLocation(window.program,"u_time"),n.uniform1f(window.timeUniformLocation,0)}),[e]),Object(A.jsx)(I,{ref:t})}var C,I=m.a.canvas(O||(O=Object(c.a)(["\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    z-index: 0;\n    background-color: aqua;\n"])));function z(n,e,t){var o=n.createShader(e);if(n.shaderSource(o,t),n.compileShader(o),n.getShaderParameter(o,n.COMPILE_STATUS))return o;console.error(n.getShaderInfoLog(o)),n.deleteShader(o)}Object(l.addStyles)();var k="\\frac{\\left(x^2+y^2\\right)}{x}-0.7t",D=S(k),T=function(n){var e=n.setLatex,t=n.setExpression,r=(n.latex,n.expression,Object(o.useState)(!1)),a=Object(d.a)(r,2),i=a[0],c=a[1],s=function(){var n=Object(f.a)(u.a.mark((function n(o){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e(o.latex()),(r=S(o.latex()))&&t(r),c(!r);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(F,{children:Object(A.jsx)(l.EditableMathField,{latex:k,config:_,onChange:s,style:{fontSize:"20px",minWidth:"200px",maxWidth:"85%",margin:"30px 6px 6px 6px",textAlign:"center",backgroundColor:i?"rgba(255, 204, 204, 1)":"rgba(255, 255, 255, 0.9)"}})})})},F=m.a.div(C||(C=Object(c.a)(["\n    position: relative;\n    z-index: 1;\n    /* background-color: red; */\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"])));function M(){var n=Object(o.useState)(k),e=Object(d.a)(n,2),t=e[0],r=e[1],a=Object(o.useState)(D),i=Object(d.a)(a,2),c=i[0],s=i[1];return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(P,{expression:c}),Object(A.jsx)(T,{latex:t,setLatex:r,expression:c,setExpression:s})]})}t(34);i.a.render(Object(A.jsx)(r.a.StrictMode,{children:Object(A.jsx)(M,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.5dcd1237.chunk.js.map